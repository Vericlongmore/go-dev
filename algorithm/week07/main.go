package main

import (
	"fmt"
	"time"
)

func main() {

	//var slice []int

	slice := make([]int, 0, 10)

	slice = append(slice, 1)

	for i, v := range slice {
		fmt.Println(i, v, slice[i])
	}
	slice = slice[:0]
	fmt.Println("slice", slice)
	//ss := []string{"925276903822750","925276899244204","925276884864960","925276885406690","925276902421846","925276902415694","925276899316910","925276884973512"}

	//ssmijie1 :=[]string{"916480698059032","916480698004746","916480697743588"}

	//ssmijie2 :=[]string{"925276885409770","925276885406694","925276902422868","925276902175032","925276897746046","925276899170474","925276902039848","925276884869060","925276898660504","925276903463302","925276885415918"}

	////mijie1-kouzhao
	//"925276885409770","925276885406694","925276902422868","925276902175032","925276897746046","925276899170474","925276902039848","925276884869060","925276898660504","925276903463302","925276885415918"
	//"925276885409770","925276885406694","925276902422868","925276902175032","925276897746046","925276899170474","925276902039848","925276884869060","925276898660504","925276903463302","925276885415918"
	//
	////mijie1-nokouzao
	//"925276885409770","925276885406694","925276902422868","925276902175032","925276897746046","925276899170474","925276902039848","925276884869060","925276898660504","925276903463302","925276885415918"
	//
	////liudiao-kouzhao
	//"925276903822750","925276899244204","925276884864960","925276885406690","925276902421846","925276902415694","925276899316910","925276884973512"]
	//

	//for _,v :=range ssmijie2 {
	//	convert(v)
	//}
	//yiyuan1 :=[]string{"920879734688050","920879733599390"}

	//yiyuanface:=[]string{"797734617274260", "797734617720752","797734617984962","797734618551258"}

	//yiyuanb :=[]string{"806530715776135","797734618113497","797734618346003","797734618018247","797734617303107",
	//	"797734617274260",
	//	"718569779628255","797734618341905","718569779638513","797734618080721","797734617704749","797734617397363",
	//	"797734618638029","797734617684243","797734617417869","797734618598071","797734617424021","797734617428119",
	//	"797734617494725","797734617951659","797734617544949","797734617580793","797734617591037","797734618764015",
	//	"797734617384063","797734617393263","797734617697565","797734617832817","797734617710887","797734617720752",
	//	"797734618104279",
	//	"797734617991607","797734617741633","797734617853311","797734618111459","797734617597183","797734617984962",
	//	"797734618022337", "797734618182133","797734618322445","797734618122721","797734618551258"}
	//
	//yiyuanb—2 :=[]string{"806530716349741","806530716954271","806530716388689","806530716417383",
	//	"806530716961447",
	//	"806530717843565","806530716200127","806530716178621","806530716750369","806530716262623","806530716960421",
	//	"806530716276973","806530716076187","806530717413199","806530716538285","806530716072085","806530716649953",
	//	"806530716410209","806530716567989","806530717664249",
	//	"806530717015737","806530717899955","806530716713481",
	//	"806530717478799","806530716728845","806530716786245","806530716807775","806530716816999","806530716955297",
	//	"806530716951197",
	//	"806530717112009","806530716853883","806530717091527","806530717694981","806530717863037",
	//	"806530717958357", }

	yiyuanb := []string{"819725040603532"}

	fmt.Println("count", len(yiyuanb))

	for _, v := range yiyuanb {
		convert(v)
	}

	//for _,v :=range ss {
	//	convert(v)
	//}

	toBeCharge := "2022-03-17 10:26:09"                             //待转化为时间戳的字符串 注意 这里的小时和分钟还要秒必须写 因为是跟着模板走的 修改模板的话也可以不写
	timeLayout := "2006-01-02 15:04:05"                             //转化所需模板
	loc, _ := time.LoadLocation("Local")                            //重要：获取时区
	theTime, _ := time.ParseInLocation(timeLayout, toBeCharge, loc) //使用模板在对应时区转化为time.time类型
	sr := theTime.Unix()                                            //转化为时间戳 类型是int64
	fmt.Println(theTime)                                            //打印输出theTime 2015-01-01 15:15:00 +0800 CST
	fmt.Println(sr)                                                 //打印输出时间戳 1420041600

	//t, _ := ptypes.Timestamp(capturedTime)
	//

	regionID := 1
	cameraIdx := 80
	sequence := 252

	aa := int64(regionID)<<49 + int64(cameraIdx)<<42 + sr<<10 + int64(sequence)

	fmt.Println("object_id：", aa)

}

func convert(idd string) {

	//id, _ := strconv.Atoi(idd)

	id := 1111
	Sequence := int32(id & 0x3ff)

	CameraIdx := int32((id >> 42) & 0x7f)
	RegionId := int32((id >> 49) & 0x7fffffff)

	timestamps := int64((id >> 10) & 0xffffffff)
	tm := time.Unix(timestamps, 0)

	fmt.Println("CameraIdx:", CameraIdx)

	fmt.Println("RegionId:", RegionId)

	fmt.Println("Sequence:", Sequence)

	fmt.Println("time:", tm)
	fmt.Println("timestamp:", timestamps)

	fmt.Println("====================:")

}
